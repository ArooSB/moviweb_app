{% extends "base.html" %}

{% block title %}{{ user.name }}'s Movies{% endblock %}

{% block content %}
<h1>{{ user.name }}'s Movies</h1>
<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Director</th>
            <th>Year</th>
            <th>Rating</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for movie in movies %}
        <tr>
            <td>{{ movie.title }}</td>
            <td>{{ movie.director }}</td>
            <td>{{ movie.year }}</td>
            <td>{{ movie.rating }}</td>
            <td>
                <a href="{{ url_for('update_movie', movie_id=movie.id) }}">Edit</a>
                <form action="{{ url_for('delete_movie', movie_id=movie.id) }}" method="POST" style="display:inline;">
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="{{ url_for('add_movie') }}?user_id={{ user.id }}">Add Movie</a>
<a href="{{ url_for('index') }}">Back to Users List</a>
{% endblock %}
